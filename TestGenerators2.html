<html>
    <body>


        <script>
            function* conversar() {
                //escopo proprio

                let opcao = yield 'Blz??'

                //Segundo bloco
                if(opcao == 'sim')
                {
                    yield 'Bacana, fico feliz!'

                    opcao = yield 'Quer uma piada?'

                    if(opcao == 'quero')
                    {
                        yield 'Piada infeliz...'
                    }
                    else
                    {
                        yield 'BYE'
                    }

                }
                else
                {
                    yield 'Que pena!'

                    yield 'Digite 1, 2, ou 3'
                }
                    
                return 'Fim!!!'
            }

            let conversa = conversar();

            function acao()
            {
                let resposta = document.getElementById('resposta').value;
                let iteracao = conversa.next(resposta);    
                console.log(iteracao);

                if(iteracao.done)
                    document.getElementById('teste').style.display = 'none';
            }

       </script>

        <div id="teste">
                <button type="button" onclick="acao()">Avancar</button>
                Resposta: <input type="text" id="resposta">

        </div>

    </body>
</html>